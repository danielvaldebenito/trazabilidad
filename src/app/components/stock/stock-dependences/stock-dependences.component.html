<div class="card tree" *ngFor="let dependence of dependences" [ngClass]="{'selected': selected && selected._id == dependence._id}">
  <div class="card-block">
    <div class="d-flex p-2 flex-row justify-content-between align-items-center">
      <span>{{ dependence.name }}</span>
      <button class="btn btn-sm" [ngClass]="{'btn-primary': selected && selected._id == dependence._id, 'btn-secondary': !selected || (selected._id != dependence._id)}" (click)="toggleDependence(dependence)">
        <fa name="{{selected && selected._id == dependence._id ? 'minus' : 'plus'}}"></fa>
      </button>
    </div>
    <div *ngIf="selected && selected._id == dependence._id" class="branch">
      <app-stock-warehouses *ngIf="selected && selected.warehouses" [warehouses]="selected.warehouses" [selectedWarehouse]="selectedWarehouse" [selectedType]="selectedType" [selectedNif]="selectedNif"></app-stock-warehouses>
    </div>
  </div>
</div>
